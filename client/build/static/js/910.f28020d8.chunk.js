"use strict";(self.webpackChunkwingrow=self.webpackChunkwingrow||[]).push([[910],{7910:function(e,s,n){n.r(s),n.d(s,{default:function(){return F}});var a=n(4942),t=n(1413),r=n(2982),l=n(885),o=n(2791),i=n(3978),m=n(7205),d=n(5017),c=n(5953),p=n(4565),u=n(9365),h=n(9407),f=n(8055),x=n(988),y=n(7689),g=n(1087),Z=n(6457),j=n(8704),v=n(1840),b=n(5206),S=(n(5462),n(184)),P=Z.Z.getCurrentUser(),w=[188,13];function F(){(0,o.useEffect)((function(){P&&(Z.Z.logout(),window.location.reload())}),[]);var e=(0,y.s0)(),s=(0,o.useState)(!1),n=(0,l.Z)(s,2),F=n[0],C=n[1],z=(0,o.useState)({phone:"",password:"",firstname:"",lastname:"",type:"",farmertype:"",address:""}),N=(0,l.Z)(z,2),O=N[0],W=N[1],k=o.useState([]),A=(0,l.Z)(k,2),R=A[0],T=A[1],q=(0,o.useState)(""),I=(0,l.Z)(q,2),V=I[0],D=I[1],L=function(e){var s=e.target,n=s.name,r=s.value;W((function(e){return(0,t.Z)((0,t.Z)({},e),{},(0,a.Z)({},n,r))}))};return(0,S.jsx)(S.Fragment,{children:F?(0,S.jsx)(v.Z,{}):(0,S.jsxs)("div",{className:"authContainer_register",children:[(0,S.jsx)(i.Z,{sx:{m:1,bgcolor:"secondary.main"}}),(0,S.jsx)(p.Z,{component:"h1",variant:"h5",children:"Sign up"}),(0,S.jsxs)("form",{className:"register_details",component:"form",noValidate:!0,onSubmit:function(s){D(""),s.preventDefault();var n=O.phone,a=O.firstname,t=O.lastname,r=O.farmertype,l=O.type,o=O.password;n.match("[0-9]{10}")?0===a.length&&0===t.length?D("Please provide valid first and last name"):0===l.length?D("Please select type"):o.length<6?D("password must be greater than 6 characters"):"farmer"===l&&0===r.length?D("select producer type"):"farmer"===l&&0===R.length?D("select atleast one commodity and press enter"):(D("no error"),C(!0),Z.Z.register(O.phone,O.password,O.firstname,O.lastname,O.type,O.farmertype,O.address,R).then((function(){b.Am.success("Registration successful!",{position:"top-center",autoClose:3e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0,theme:"light"}),setTimeout((function(){e("/login"),window.location.reload()}),1e3)}),(function(e){b.Am.warn("Registration failed",{position:"top-center",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0,theme:"light"}),W({phone:"",password:"",firstname:"",lastname:"",type:"",farmertype:"",address:""}),T([]),C(!1)}))):D("Please provide valid phone number")},sx:{mt:3},children:[(0,S.jsxs)(c.ZP,{container:!0,spacing:2,children:[(0,S.jsx)(c.ZP,{item:!0,xs:12,sm:6,children:(0,S.jsx)(d.Z,{inputlabelprops:{style:{fontSize:14,fontFamily:"monospace"}},autoComplete:"given-name",name:"firstname",value:O.firstname,onChange:L,required:!0,fullWidth:!0,id:"firstName",label:"First Name",autoFocus:!0})}),(0,S.jsx)(c.ZP,{item:!0,xs:12,sm:6,children:(0,S.jsx)(d.Z,{inputlabelprops:{style:{fontSize:14,fontFamily:"monospace"}},required:!0,fullWidth:!0,id:"lastName",label:"Last Name",name:"lastname",value:O.lastname,onChange:L,autoComplete:"family-name"})}),(0,S.jsx)(c.ZP,{item:!0,xs:12,sm:6,children:(0,S.jsx)(d.Z,{inputlabelprops:{style:{fontSize:14,fontFamily:"monospace"}},required:!0,fullWidth:!0,id:"phone",label:"Mobile Number",name:"phone",value:O.phone,onChange:L})}),(0,S.jsx)(c.ZP,{item:!0,xs:12,sm:6,children:(0,S.jsxs)(f.Z,{sx:{width:"100%",fontSize:14},children:[(0,S.jsx)(u.Z,{inputlabelprops:{style:{fontSize:14,fontFamily:"monospace"}},id:"demo-simple-select-helper-label",children:"Type"}),(0,S.jsxs)(x.Z,{sx:{fontSize:"1.2rem"},labelId:"demo-simple-select-helper-label",id:"demo-simple-select-helper",value:O.type,label:"Type",name:"type",onChange:L,children:[(0,S.jsx)(h.Z,{sx:{fontSize:"1.3rem",fontFamily:"monospace"},value:"",children:(0,S.jsx)("em",{children:"Select"})}),(0,S.jsx)(h.Z,{sx:{fontSize:"1.3rem",fontFamily:"monospace"},value:"farmer",children:"Producer"}),(0,S.jsx)(h.Z,{sx:{fontSize:"1.3rem",fontFamily:"monospace"},value:"customer",children:"Consumer"})]})]})}),"farmer"===O.type&&(0,S.jsx)(c.ZP,{item:!0,xs:12,children:(0,S.jsxs)(f.Z,{sx:{width:"100%"},children:[(0,S.jsx)(u.Z,{id:"demo-simple-select-helper-label",children:"Producer Type"}),(0,S.jsxs)(x.Z,{sx:{fontSize:"1.3rem"},labelId:"demo-simple-select-helper-label",id:"demo-simple-select-helper",value:O.farmertype,label:"farmertype",name:"farmertype",onChange:L,children:[(0,S.jsx)(h.Z,{value:"",children:(0,S.jsx)("em",{children:"None"})}),(0,S.jsx)(h.Z,{sx:{fontSize:"1.3rem",fontFamily:"monospace"},value:"farmers",children:"Farmer"}),(0,S.jsx)(h.Z,{sx:{fontSize:"1.3rem",fontFamily:"monospace"},value:"Organic farmers",children:"Organic Farmer"}),(0,S.jsx)(h.Z,{sx:{fontSize:"1.3rem",fontFamily:"monospace"},value:"FPO/FPC",children:"FPO/FPC"}),(0,S.jsx)(h.Z,{sx:{fontSize:"1.3rem",fontFamily:"monospace"},value:"Retailer",children:"Retailer"}),(0,S.jsx)(h.Z,{sx:{fontSize:"1.3rem",fontFamily:"monospace"},value:"Wholesaler",children:"Wholesaler"}),(0,S.jsx)(h.Z,{sx:{fontSize:"1.3rem",fontFamily:"monospace"},value:"Start-up",children:"Start Up"}),(0,S.jsx)(h.Z,{sx:{fontSize:"1.3rem",fontFamily:"monospace"},value:"Vocal for local producers",children:"Vocal for Local Producers"})]})]})}),(0,S.jsx)(c.ZP,{item:!0,xs:12,children:(0,S.jsx)(d.Z,{inputlabelprops:{style:{fontSize:14,fontFamily:"monospace"}},required:!0,fullWidth:!0,name:"password",label:"Password",type:"password",id:"password",value:O.password,onChange:L,autoComplete:"new-password"})}),(0,S.jsx)(c.ZP,{item:!0,xs:12,children:(0,S.jsx)(d.Z,{inputlabelprops:{style:{fontSize:14,fontFamily:"monospace"}},fullWidth:!0,name:"address",label:"address (optional)",type:"address",id:"address",value:O.address,onChange:L,autoComplete:"new-address"})}),"farmer"===O.type&&(0,S.jsx)(c.ZP,{item:!0,xs:12,children:(0,S.jsx)(j.V,{InputProps:{style:{fontSize:15}},inputlabelprops:{style:{fontSize:15}},tags:R,delimiters:w,handleDelete:function(e){T(R.filter((function(s,n){return n!==e})))},handleAddition:function(e){T([].concat((0,r.Z)(R),[e]))},handleDrag:function(e,s,n){var a=R.slice();a.splice(s,1),a.splice(n,0,e),T(a)},inputFieldPosition:"bottom",autocomplete:!0,placeholder:"Add Selling Products Names and press enter"})})]}),"no error"!==V&&(0,S.jsx)("h3",{style:{alignSelf:"center",color:"red",marginTop:"10px"},children:V}),(0,S.jsx)(m.Z,{type:"submit",fullWidth:!0,variant:"contained",sx:{mt:3,mb:2},children:"Register"}),(0,S.jsx)(c.ZP,{container:!0,justifyContent:"center",children:(0,S.jsx)(c.ZP,{item:!0,children:(0,S.jsx)(g.rU,{to:"/login",variant:"body2",children:"Already have an account? Log In"})})})]})]})})}}}]);
//# sourceMappingURL=910.f28020d8.chunk.js.map